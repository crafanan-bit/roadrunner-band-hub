<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRMS Band - Road Runner Band Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: School Colors (Blue & Gold) -->
    <!-- Application Structure Plan: Inspired by bandsofsantiagosharks.org, this is a single-page application using tabs that mimic a multi-page site structure. The default view is a "Home" dashboard with a hero image, welcome message, and key highlights. Information is now organized into audience-specific tabs (Parent Info, Student Info) for clarity. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Grading Categories. Goal: Compare/Inform. Viz/Method: Chart.js Donut Chart. Interaction: Hover tooltips. Justification: A donut chart provides a much faster and more intuitive understanding of grade composition than a text list. Library: Chart.js/Canvas.
        - Report Info: Performance & Rehearsal Dates. Goal: Organize/Inform. Viz/Method: Column-based layout for each band within a dedicated "Calendar" tab. Interaction: None. Justification: Separating events into dedicated columns for each band offers maximum clarity. Method: Vanilla JS DOM manipulation.
        - Report Info: Uniforms and Materials. Goal: Inform. Viz/Method: Styled cards with columns. Interaction: None. Justification: Using cards with clear headings makes logistical information easy to find. Method: HTML/Tailwind.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #f3f4f6; }
        .tab { position: relative; cursor: pointer; padding: 1rem; transition: color 0.3s ease; }
        .tab::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 3px; background-color: #0d3b66; transform: scaleX(0); transition: transform 0.3s ease; }
        .tab-active { color: #0d3b66; font-weight: 600; }
        .tab-active::after { transform: scaleX(1); }
        .content-section, .sub-content-section { display: none; }
        .content-section.active, .sub-content-section.active { display: block; animation: fadeIn 0.5s; }
        .chart-container { position: relative; width: 100%; max-width: 320px; margin: 1rem auto; height: 320px; }
        .hero {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://placehold.co/1200x400/0d3b66/f9a825?text=Road+Runner+Band');
            background-size: cover;
            background-position: center;
        }
        .sub-tab {
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            font-weight: 500;
        }
        .sub-tab-active {
            background-color: #0d3b66;
            color: white;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }
        .mobile-tab-active {
            background-color: #0d3b66;
            color: white;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto max-w-7xl">
        
        <header class="bg-white shadow-md sticky top-0 z-50">
            <div class="mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-20">
                    <div class="flex-shrink-0">
                        <h1 class="text-xl font-bold text-gray-800">TRMS Music Program</h1>
                    </div>
                    <!-- Desktop Navigation -->
                    <nav class="hidden md:flex items-center space-x-4">
                        <div data-tab="home" class="tab tab-active">Home</div>
                        <div data-tab="calendar" class="tab">Calendar</div>
                        <div data-tab="parent" class="tab">Parent</div>
                        <div data-tab="student" class="tab">Student</div>
                        <div data-tab="staff" class="tab">Staff</div>
                        <div data-tab="fundraising" class="tab">Fundraising</div>
                    </nav>
                    <!-- Mobile Menu Button -->
                    <div class="md:hidden">
                        <button id="mobile-menu-button" class="text-gray-800 hover:text-blue-600 focus:outline-none">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="md:hidden hidden bg-white border-t">
                <div class="px-2 pt-2 pb-3 space-y-1">
                    <a href="#" data-tab="home" class="mobile-tab block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-blue-500 hover:text-white">Home</a>
                    <a href="#" data-tab="calendar" class="mobile-tab block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-blue-500 hover:text-white">Calendar</a>
                    <a href="#" data-tab="parent" class="mobile-tab block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-blue-500 hover:text-white">Parent</a>
                    <a href="#" data-tab="student" class="mobile-tab block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-blue-500 hover:text-white">Student</a>
                    <a href="#" data-tab="staff" class="mobile-tab block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-blue-500 hover:text-white">Staff</a>
                    <a href="#" data-tab="fundraising" class="mobile-tab block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-blue-500 hover:text-white">Fundraising</a>
                </div>
            </div>
        </header>

        <main id="content-container" class="p-4 md:p-8">
            
            <section id="home" class="content-section active">
                <div class="hero text-white rounded-lg p-12 md:p-20 text-center flex flex-col items-center justify-center min-h-[300px]">
                    <h2 class="text-4xl md:text-5xl font-bold mb-4">Welcome to the Road Runner Band Hub</h2>
                    <p class="text-lg md:text-xl max-w-2xl">Your central source for calendars, policies, and all things related to the Tomas Rivera Middle School Music Program.</p>
                </div>
                <div class="bg-white p-8 rounded-lg shadow-sm mt-8">
                     <h3 class="text-2xl font-bold mb-4">A Message from the Director</h3>
                     <p class="text-gray-600 leading-relaxed mb-4">Welcome to the 2025-2026 school year! My name is Colton Rafanan and I'm proud to serve as the Band Director of this program. Our goal is to guide students to success through musicianship, building self-esteem, social skills, and creativity in a safe learning environment. I look forward to a year of hard-work, learning, and fun!</p>
                </div>
                <div class="bg-white p-8 rounded-lg shadow-sm mt-8">
                    <h3 class="text-2xl font-bold mb-4 text-center">Upcoming Performances</h3>
                    <div id="upcoming-events" class="grid sm:grid-cols-2 lg:grid-cols-4 gap-8">
                        <div>
                            <h4 class="text-xl font-bold mb-4 text-center text-gray-700">Beginning Band</h4>
                            <div id="home-beginning-performances" class="space-y-4"></div>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold mb-4 text-center text-gray-700">Intermediate Band</h4>
                            <div id="home-intermediate-performances" class="space-y-4"></div>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold mb-4 text-center text-gray-700">Advanced Band</h4>
                            <div id="home-advanced-performances" class="space-y-4"></div>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold mb-4 text-center text-gray-700">Marching Band</h4>
                            <div id="home-marching-performances" class="space-y-4"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="calendar" class="content-section">
                <div class="bg-white p-8 rounded-lg shadow-sm">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 text-center">Event Calendar</h2>
                    <p class="text-center text-gray-500 mb-8">The most up-to-date information can be found on our live Google Calendar.</p>
                    <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 mb-12">
                         <h3 class="text-2xl font-bold mb-4 text-gray-800 text-center">Live Band Calendar</h3>
                         <div class="google-calendar-embed">
                             <iframe src="https://calendar.google.com/calendar/embed?src=c_a7badca8a482e6089ecf028ba80183cee797ca9e538e03be6c028d9ce2f96fe2%40group.calendar.google.com&ctz=America%2FLos_Angeles" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>
                         </div>
                         <a href="https://calendar.google.com/calendar/u/0?cid=Y19hN2JhZGNhOGE0ODJlNjA4OWVjZjAyOGJhODAxODNjZWU3OTdjYTllNTM4ZTAzYmU2YzAyOGQ5Y2UyZjk2ZmUyQGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20" target="_blank" class="bg-gray-800 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-gray-900 transition shadow-sm w-full block mt-6">View Full Calendar in New Tab</a>
                    </div>
                </div>
            </section>

            <section id="parent" class="content-section">
                <div class="bg-white p-8 rounded-lg shadow-sm">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Parent & Guardian Information</h2>
                    <div class="flex justify-center border-b mb-6">
                        <div data-sub-tab="communication" class="sub-tab sub-tab-active">Communication</div>
                        <div data-sub-tab="uniforms" class="sub-tab">Uniforms</div>
                        <div data-sub-tab="boosters" class="sub-tab">Band Boosters & Volunteer</div>
                        <div data-sub-tab="policies" class="sub-tab">Syllabus & Policies</div>
                    </div>
                    <div id="parent-sub-content">
                        <div data-sub-tab-content="communication" class="sub-content-section active text-center">
                            <p class="mb-6 text-gray-600 max-w-2xl mx-auto">The Remind app is the primary tool for all band announcements and reminders. Please join to stay up-to-date.</p>
                            <div class="bg-gray-100 p-6 rounded-lg inline-block">
                                <p class="font-semibold text-gray-800 text-lg">Text <code class="bg-gray-200" style="color: #0d3b66;">@trmsbd</code> to <code class="bg-gray-200" style="color: #0d3b66;">81010</code></p>
                            </div>
                        </div>
                        <div data-sub-tab-content="uniforms" class="sub-content-section">
                            <div class="grid md:grid-cols-3 gap-8">
                                <div class="bg-gray-50 p-6 rounded-lg border">
                                    <h3 class="text-xl font-bold mb-3 text-gray-800">Beginning Band</h3>
                                    <ul class="list-disc list-inside space-y-2 text-gray-600">
                                        <li>Any White Shirt/Blouse</li>
                                        <li>Black Jeans or Slacks</li>
                                        <li>Black Dress Shoes or Sneakers</li>
                                        <li>Solid Black Socks</li>
                                    </ul>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-lg border">
                                    <h3 class="text-xl font-bold mb-3 text-gray-800">Intermediate & Adv.</h3>
                                    <ul class="list-disc list-inside space-y-2 text-gray-600">
                                        <li>Black Band Polo</li>
                                        <li>Black Jeans or Slacks</li>
                                        <li>Black Dress Shoes or Sneakers</li>
                                        <li>Solid Black Socks</li>
                                    </ul>
                                </div>
                                 <div class="bg-gray-50 p-6 rounded-lg border">
                                    <h3 class="text-xl font-bold mb-3 text-gray-800">Marching Band</h3>
                                    <ul class="list-disc list-inside space-y-2 text-gray-600">
                                        <li>Plain Black Shirt or PE Shirt</li>
                                        <li>Athletic Shorts</li>
                                        <li>Long, Solid Black Socks</li>
                                        <li><a href="https://www.bandshoppe.com/product/speedsters-marching-band-shoe/" target="_blank" class="text-blue-600 hover:underline">Speedster Shoes</a> (Required)</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="text-center mt-8">
                                <a href="https://docs.google.com/forms/d/e/1FAIpQLScJukC25nqH88nbUEm7pK1bFVMLeRlw5RlRz5s-JhMjwtJX5w/viewform?usp=dialog" target="_blank" class="bg-green-600 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition shadow-sm">Uniform Order Form</a>
                            </div>
                        </div>
                        <div data-sub-tab-content="boosters" class="sub-content-section">
                             <div class="text-center text-gray-600">
                                <p class="mb-6">Parent involvement is crucial to the success of our program! Please consider volunteering by filling out the interest form below.</p>
                                <a href="https://docs.google.com/forms/d/e/1FAIpQLSdj2dSAQcqZXjah29xDxz3fe_Ikp-H_lWjdL87XToZnOc0YSA/viewform?usp=dialog" target="_blank" class="bg-blue-600 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition shadow-sm inline-block">Volunteer Interest Form</a>
                            </div>
                        </div>
                        <div data-sub-tab-content="policies" class="sub-content-section">
                            <a href="https://drive.google.com/file/d/1vLFEqkJra4Nk8mk0RPLON09QXvbUANDe/view?usp=sharing" target="_blank" class="bg-gray-800 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-gray-900 transition shadow-sm w-full block mb-10">Download Full Syllabus (PDF)</a>
                            <div class="grid md:grid-cols-2 gap-10 items-center">
                                <div>
                                    <h3 class="text-2xl font-bold mb-4 text-gray-800">Grading Categories</h3>
                                    <div class="chart-container">
                                        <canvas id="gradingChart"></canvas>
                                    </div>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold mb-4 text-gray-800">Grading Scale</h3>
                                    <ul class="space-y-3 bg-gray-50 p-5 rounded-lg border">
                                        <li><span class="font-semibold text-green-600">A (85-100%):</span> Exceeds Proficiency</li>
                                        <li><span class="font-semibold text-blue-600">B (70-84%):</span> Meets Proficiency</li>
                                        <li><span class="font-semibold text-yellow-600">C (55-69%):</span> Approaching Proficiency</li>
                                        <li><span class="font-semibold text-orange-600">D (40-54%):</span> Partially Proficient</li>
                                        <li><span class="font-semibold text-red-600">F (0-39%):</span> Below Proficiency</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="student" class="content-section">
                <div class="space-y-8">
                    <div class="bg-white p-8 rounded-lg shadow-sm">
                        <h2 class="text-3xl font-bold text-gray-800 mb-4">Required Materials</h2>
                        <p class="mb-4 text-gray-600">Please bring these items to every class & rehearsal.</p>
                         <ul class="list-disc list-inside space-y-2 text-gray-600 text-lg">
                            <li>Instrument & all accessories (reeds, oil, etc.)</li>
                            <li>Music Folder with all music</li>
                            <li>Pencil (not a pen!)</li>
                            <li>Journal (Class time only)</li>
                            <li>Towel/Rag (for brass players)</li>
                        </ul>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-sm">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Online Platforms & Forms</h2>
                        <div class="grid md:grid-cols-3 gap-8">
                            <div class="bg-gray-50 p-6 rounded-lg border">
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Make Music</h3>
                                <p class="text-gray-600 mb-4">For practice assignments.</p>
                                <a href="https://home.makemusic.com/" target="_blank" class="bg-blue-600 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition shadow-sm w-full block">Go to Make Music</a>
                            </div>
                            <div class="bg-gray-50 p-6 rounded-lg border">
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Absence Request Form</h3>
                                <p class="text-gray-600 mb-4">Submit this form if you will be absent.</p>
                                <a href="https://docs.google.com/forms/d/e/1FAIpQLSdiAj2LW2n-r44tu_WQt_jcLqNsXweDkux8GdZu7X1HkfANmw/viewform?usp=dialog" target="_blank" class="bg-gray-600 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-gray-700 transition shadow-sm w-full block">Open Form</a>
                            </div>
                            <div class="bg-gray-50 p-6 rounded-lg border">
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Uniform Order Form</h3>
                                <p class="text-gray-600 mb-4">Please complete this form to order your uniform.</p>
                                <a href="https://docs.google.com/forms/d/e/1FAIpQLScJukC25nqH88nbUEm7pK1bFVMLeRlw5RlRz5s-JhMjwtJX5w/viewform?usp=dialog" target="_blank" class="bg-green-600 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition shadow-sm w-full block">Open Form</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="staff" class="content-section">
                <div class="bg-white p-8 rounded-lg shadow-sm">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Staff Information</h2>
                    <div class="flex justify-center border-b mb-6">
                        <div data-sub-tab="meet-staff" class="sub-tab sub-tab-active">Meet the Staff</div>
                        <div data-sub-tab="staff-info" class="sub-tab">Staff Info</div>
                    </div>
                    <div id="staff-sub-content">
                        <div data-sub-tab-content="meet-staff" class="sub-content-section active">
                            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                <div class="text-center bg-gray-50 p-6 rounded-lg">
                                    <img src="https://placehold.co/200x200/e0e7ff/374151?text=Photo" alt="Photo of Staff Member" class="rounded-full mx-auto shadow-lg mb-4">
                                    <h3 class="text-2xl font-bold text-gray-800">Colton Rafanan</h3>
                                    <p class="text-lg text-blue-600 font-semibold mt-1">Band Director</p>
                                    <p class="text-sm text-gray-600 mt-2">crafanan@valverde.edu</p>
                                </div>
                                <div class="text-center bg-gray-50 p-6 rounded-lg">
                                    <img src="https://placehold.co/200x200/e0e7ff/374151?text=Photo" alt="Photo of Staff Member" class="rounded-full mx-auto shadow-lg mb-4">
                                    <h3 class="text-2xl font-bold text-gray-800">Ruben Blanco</h3>
                                    <p class="text-lg text-blue-600 font-semibold mt-1">Color Guard Caption Head</p>
                                </div>
                                <div class="text-center bg-gray-50 p-6 rounded-lg">
                                    <img src="https://placehold.co/200x200/e0e7ff/374151?text=Photo" alt="Photo of Staff Member" class="rounded-full mx-auto shadow-lg mb-4">
                                    <h3 class="text-2xl font-bold text-gray-800">Ethan Eldred</h3>
                                    <p class="text-lg text-blue-600 font-semibold mt-1">Percussion Caption Head</p>
                                </div>
                                <div class="text-center bg-gray-50 p-6 rounded-lg">
                                    <img src="https://placehold.co/200x200/e0e7ff/374151?text=Photo" alt="Photo of Staff Member" class="rounded-full mx-auto shadow-lg mb-4">
                                    <h3 class="text-2xl font-bold text-gray-800">Marissa Vickrey</h3>
                                    <p class="text-lg text-blue-600 font-semibold mt-1">Visual & Woodwind Tech</p>
                                </div>
                                <div class="text-center bg-gray-50 p-6 rounded-lg">
                                    <img src="https://placehold.co/200x200/e0e7ff/374151?text=Photo" alt="Photo of Staff Member" class="rounded-full mx-auto shadow-lg mb-4">
                                    <h3 class="text-2xl font-bold text-gray-800">Allison Rafanan</h3>
                                    <p class="text-lg text-blue-600 font-semibold mt-1">Drum Major Instructor & Visual Tech</p>
                                </div>
                                <div class="text-center bg-gray-50 p-6 rounded-lg">
                                    <img src="https://placehold.co/200x200/e0e7ff/374151?text=Photo" alt="Photo of Staff Member" class="rounded-full mx-auto shadow-lg mb-4">
                                    <h3 class="text-2xl font-bold text-gray-800">Ryan Vickrey</h3>
                                    <p class="text-lg text-blue-600 font-semibold mt-1">Drum Major Instructor</p>
                                </div>
                            </div>
                        </div>
                        <div data-sub-tab-content="staff-info" class="sub-content-section text-center">
                            <p class="mb-6 text-gray-600">Click the button below to view the staff rehearsal plan and contact information.</p>
                            <a href="https://docs.google.com/spreadsheets/d/10ZD53Eq3Io6dyb4iAi0TTK2eU-0nynPQxUnF4xrPtPM/edit?usp=sharing" target="_blank" class="bg-blue-600 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition shadow-sm inline-block">View Rehearsal Plan</a>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="fundraising" class="content-section">
                <div class="bg-white p-8 md:p-12 rounded-lg shadow-sm max-w-5xl mx-auto">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Current Fundraiser: Chipotle Night!</h2>
                    <div class="text-center text-gray-600 leading-relaxed">
                        <p class="text-lg">Support the TRMS Band Program by dining at Chipotle!</p>
                        <div class="my-6 bg-gray-50 border-l-4 border-yellow-500 p-6 rounded-r-lg inline-block">
                            <p class="font-bold text-xl text-gray-800">Wednesday, September 24th</p>
                            <p class="text-md">4:00 PM - 8:00 PM</p>
                            <p class="text-md mt-2">22430 Van Buren Blvd, Riverside, CA</p>
                        </div>
                        <p class="max-w-xl mx-auto">Mention the fundraiser or show the flyer when you order, and 25% of the sales will be donated to our program. If ordering online for pickup, use the code <code class="bg-gray-200 text-blue-800 font-bold p-1 rounded">HM2EDYH</code>.</p>
                        <div class="flex justify-center gap-4 mt-8">
                             <a href="#" target="_blank" class="bg-gray-800 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-gray-900 transition shadow-sm">Download English Flyer (PDF)</a>
                             <a href="#" target="_blank" class="bg-gray-800 text-white text-center font-bold py-3 px-6 rounded-lg hover:bg-gray-900 transition shadow-sm">Download Spanish Flyer (PDF)</a>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const tabs = document.querySelectorAll('.tab');
            const contentSections = document.querySelectorAll('.content-section');
            const subTabs = document.querySelectorAll('.sub-tab');
            const subContentSections = document.querySelectorAll('.sub-content-section');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileTabs = document.querySelectorAll('.mobile-tab');

            const eventData = [
                { band: 'Beginning Band', event: 'Holiday Concert', date: 'December 16th', type: 'performance' },
                { band: 'Beginning Band', event: 'End of the Year Concert', date: 'End of May', type: 'performance' },
                { band: 'Intermediate Band', event: 'Homecoming Performance', date: 'October 17th', type: 'performance' },
                { band: 'Intermediate Band', event: 'Holiday Concert', date: 'December 16th', type: 'performance' },
                { band: 'Intermediate Band', event: 'Field Trip Performance', date: 'May 8th (TBD)', type: 'performance' },
                { band: 'Intermediate Band', event: 'End of the Year Concert', date: 'End of May', type: 'performance' },
                { band: 'Advanced Band', event: 'Homecoming Performance', date: 'October 17th', type: 'performance' },
                { band: 'Advanced Band', event: 'Holiday Concert', date: 'December 16th', type: 'performance' },
                { band: 'Advanced Band', event: 'SCSBOA Spring Competition', date: 'March (TBD)', type: 'performance' },
                { band: 'Advanced Band', event: 'Spring POD Concert', date: 'April (TBD)', type: 'performance' },
                { band: 'Advanced Band', event: 'Field Trip Performance', date: 'May 8th (TBD)', type: 'performance' },
                { band: 'Advanced Band', event: 'End of the Year Concert', date: 'End of May', type: 'performance' },
                { band: 'Marching Band', event: 'SCSBOA Chino Band Review', date: 'November 1st', type: 'performance' },
                { band: 'Marching Band', event: 'SCSBOA Perris Christmas Parade', date: 'December 13th', type: 'performance' },
                { band: 'Marching Band', event: 'SCSBOA Temple City Parade', date: 'Feb. 21st', type: 'performance' },
                { band: 'Marching Band', event: 'SCSBOA Swallows Day Parade', date: 'March 21st', type: 'performance' },
                { band: 'Marching Band', event: 'Spring Elementary Tour', date: 'April (TBA)', type: 'performance' },
                { band: 'Marching Band', event: 'Rehearsal', date: 'Fridays, 3:15-4:30 pm', type: 'Rehearsal' },
                { band: 'Intermediate Band', event: 'Rehearsal (Field Trip)', date: 'Mondays, 3:15-4:30 pm', type: 'Rehearsal' },
            ];

            function populateContent() {
                const homeBeginning = document.getElementById('home-beginning-performances');
                const homeIntermediate = document.getElementById('home-intermediate-performances');
                const homeAdvanced = document.getElementById('home-advanced-performances');
                const homeMarching = document.getElementById('home-marching-performances');

                if(homeBeginning) {
                    [homeBeginning, homeIntermediate, homeAdvanced, homeMarching].forEach(el => el.innerHTML = '');

                    const performances = eventData.filter(e => e.type === 'performance');

                    const dateToSortable = (dateStr) => {
                        const monthMap = { 'Jan': 1, 'Feb': 2, 'Mar': 3, 'Apr': 4, 'May': 5, 'Jun': 6, 'Jul': 7, 'Aug': 8, 'Sep': 9, 'Oct': 10, 'Nov': 11, 'Dec': 12 };
                        const year = (Object.keys(monthMap).slice(0, 7).some(m => dateStr.includes(m))) ? 2026 : 2025;
                        if (dateStr.toLowerCase().includes('homecoming')) return 20250930;
                        if (dateStr.includes('TBD')) return year * 10000 + 1231;
                        const parts = dateStr.replace(/st|nd|rd|th/g, '').split(' ');
                        const month = monthMap[parts[0].substring(0,3)];
                        const day = parseInt(parts[1]);
                        return year * 10000 + month * 100 + day;
                    };
                    
                    const beginningPerformances = performances.filter(p => p.band === 'Beginning Band').sort((a,b) => dateToSortable(a.date) - dateToSortable(b.date));
                    const intermediatePerformances = performances.filter(p => p.band === 'Intermediate Band').sort((a,b) => dateToSortable(a.date) - dateToSortable(b.date));
                    const advancedPerformances = performances.filter(p => p.band === 'Advanced Band').sort((a,b) => dateToSortable(a.date) - dateToSortable(b.date));
                    const marchingPerformances = performances.filter(p => p.band === 'Marching Band').sort((a,b) => dateToSortable(a.date) - dateToSortable(b.date));

                    const renderEvents = (container, events) => {
                         events.forEach(e => {
                            const eventCard = `
                                <div class="bg-blue-50 p-4 rounded-lg border border-blue-200 h-full">
                                    <p class="font-semibold" style="color:#0d3b66;">${e.event}</p>
                                    <p class="text-sm text-gray-500 mt-1">${e.date}</p>
                                </div>`;
                            container.innerHTML += eventCard;
                        });
                    };

                    renderEvents(homeBeginning, beginningPerformances);
                    renderEvents(homeIntermediate, intermediatePerformances);
                    renderEvents(homeAdvanced, advancedPerformances);
                    renderEvents(homeMarching, marchingPerformances);
                }
            }

            function setActiveTab(tabId) {
                tabs.forEach(tab => tab.classList.toggle('tab-active', tab.dataset.tab === tabId));
                mobileTabs.forEach(tab => tab.classList.toggle('mobile-tab-active', tab.dataset.tab === tabId));
                contentSections.forEach(section => section.classList.toggle('active', section.id === tabId));
            }

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.dataset.tab;
                    setActiveTab(tabId);
                    if (tabId === 'parent') {
                        renderGradingChart();
                    }
                });
            });

            mobileTabs.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    const tabId = tab.dataset.tab;
                    setActiveTab(tabId);
                    if (tabId === 'parent') {
                        renderGradingChart();
                    }
                    mobileMenu.classList.add('hidden');
                });
            });

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            subTabs.forEach(subTab => {
                subTab.addEventListener('click', () => {
                    const parent = subTab.closest('[id$="-sub-content"]').previousElementSibling;
                    const allSubTabsInGroup = parent.querySelectorAll('.sub-tab');
                    const allSubContentInGroup = subTab.closest('[id$="-sub-content"]').querySelectorAll('.sub-content-section');
                    
                    const subTabId = subTab.dataset.subTab;

                    allSubTabsInGroup.forEach(st => st.classList.remove('sub-tab-active'));
                    subTab.classList.add('sub-tab-active');

                    allSubContentInGroup.forEach(content => {
                        content.classList.toggle('active', content.dataset.subTabContent === subTabId);
                    });
                });
            });

            let gradingChartInstance = null;
            function renderGradingChart() {
                if (gradingChartInstance) return;
                const ctx = document.getElementById('gradingChart').getContext('2d');
                gradingChartInstance = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Concert Performances', 'Assignments', 'Journal', 'Playing/Vocab Tests'],
                        datasets: [{
                            data: [40, 20, 10, 30],
                            backgroundColor: ['#0d3b66', '#f9a825', '#a0aec0', '#4a5568'],
                            borderColor: '#ffffff',
                            borderWidth: 4,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { 
                                position: 'bottom',
                                labels: { padding: 20, font: { family: "'Poppins', sans-serif" } }
                             },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) { label += ': '; }
                                        if (context.parsed !== null) { label += context.parsed + '%'; }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            setActiveTab('home');
            populateContent();

        });
    </script>
</body>
</html>


